#include <iostream>
#include <cmath>
#include <functional>
#include <vestor>
#include <iomanip>
#include <fstream>
#include <string>
using namespace std;

using Func = function<double(double)>;

struct TestFunction {
   string name;
   Func F;
   Func f1_exact;
   Func f2_exact;
};
// -------- 1st derivatives --------
double forward_diff(Func f, double x, double h){ return (f(x+h)-f(x))/h; }
double backward_diff(Func f, double x, double h){ return (f(x)-f(x-h))/h; }
double central_diff(Func f, double x, double h){ return (f(x+h)-f(x-h))/(2*h); }
// -------- 2nd derivatives --------
double forward_diff2(Func f, double x, double h){
    return (f(x+2*h) - 2*f(x+h) + f(x)) / (h*h);
}
double backward_diff2(Func f, double x, double h){
    return (f(x) - 2*f(x-h) + f(x-2*h)) / (h*h);
}
double central_diff2(Func f, double x, double h){
    return (f(x+h) - 2*f(x) + f(x-h)) / (h*h);
}
//last part
cout << setw(12) << setprecision(3) << fixed << h << setprecision(8)
             << setw(14) << fwd
             << setw(14) << bwd
             << setw(14) << cen
             << setw(14) << exact
             << setw(16) << fabs(exact-cen)
             << "\n";

        csv2 << h << "," << fabs(exact-fwd) << ","
                  << fabs(exact-bwd) << ","
                  << fabs(exact-cen) << "\n";
    }

    csv1.close();
    csv2.close();

    return 0;
}
